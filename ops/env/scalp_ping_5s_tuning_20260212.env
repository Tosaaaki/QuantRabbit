# 5s ping scalp tuning (2026-02-12)
# Goal: reduce whipsaw stop-loss clusters without fully starving entries.

# Signal freshness and windowing.
SCALP_PING_5S_MAX_TICK_AGE_MS=5000
SCALP_PING_5S_SIGNAL_WINDOW_SEC=2.4
SCALP_PING_5S_WINDOW_SEC=10.0
SCALP_PING_5S_MIN_TICKS=6
SCALP_PING_5S_MIN_SIGNAL_TICKS=4

# Raise entry quality from ultra-aggressive baseline.
SCALP_PING_5S_MIN_TICK_RATE=0.80
SCALP_PING_5S_MOMENTUM_TRIGGER_PIPS=0.12
SCALP_PING_5S_MOMENTUM_SPREAD_MULT=0.20
SCALP_PING_5S_IMBALANCE_MIN=0.54
SCALP_PING_5S_MAX_SPREAD_PIPS=1.00

# MTF heat regime: switch continuation/reversion by market temperature.
SCALP_PING_5S_MTF_REGIME_ENABLED=1
SCALP_PING_5S_MTF_TREND_NEUTRAL_SCORE=0.14
SCALP_PING_5S_MTF_TREND_STRONG_SCORE=0.28
SCALP_PING_5S_MTF_HEAT_CONTINUATION_MIN=0.62
SCALP_PING_5S_MTF_HEAT_REVERSION_MAX=0.40
SCALP_PING_5S_MTF_CONTINUATION_ALIGN_BOOST_MAX=0.95
SCALP_PING_5S_MTF_CONTINUATION_OPPOSITE_UNITS_MULT=0.25
SCALP_PING_5S_MTF_CONTINUATION_BLOCK_HEAT=0.78
SCALP_PING_5S_MTF_REVERSION_TRIGGER_MULT=1.30
SCALP_PING_5S_MTF_REVERSION_IMBALANCE_MIN=0.60
SCALP_PING_5S_MTF_REVERSION_BOOST_MAX=0.30

# Pace control.
SCALP_PING_5S_ENTRY_COOLDOWN_SEC=0.30
SCALP_PING_5S_MIN_ORDER_SPACING_SEC=0.20
SCALP_PING_5S_MAX_ORDERS_PER_MINUTE=84
SCALP_PING_5S_MAX_ACTIVE_TRADES=20
SCALP_PING_5S_MAX_PER_DIRECTION=12
SCALP_PING_5S_ALLOW_OPPOSITE_WHEN_MAX_ACTIVE=1

# Strategy-level performance gate (re-enable for scalp_ping_5s_live).
SCALP_PING_5S_PERF_GUARD_ENABLED=1
SCALP_PING_5S_PERF_GUARD_MODE=warn
SCALP_PING_5S_PERF_GUARD_SETUP_ENABLED=1
PERF_GUARD_SETUP_ENABLED_STRATEGY_SCALP_PING_5S_LIVE=1
PERF_GUARD_SETUP_MIN_TRADES_STRATEGY_SCALP_PING_5S_LIVE=8
PERF_GUARD_SETUP_PF_MIN_STRATEGY_SCALP_PING_5S_LIVE=1.08
PERF_GUARD_SETUP_WIN_MIN_STRATEGY_SCALP_PING_5S_LIVE=0.55
PERF_GUARD_SETUP_AVG_PIPS_MIN_STRATEGY_SCALP_PING_5S_LIVE=0.05
PERF_GUARD_MIN_TRADES_STRATEGY_SCALP_PING_5S_LIVE=20
PERF_GUARD_PF_MIN_STRATEGY_SCALP_PING_5S_LIVE=1.03
PERF_GUARD_WIN_MIN_STRATEGY_SCALP_PING_5S_LIVE=0.53
PERF_GUARD_SL_LOSS_RATE_MIN_TRADES=12
PERF_GUARD_SL_LOSS_RATE_MAX_STRATEGY_SCALP_PING_5S_LIVE=0.30

# Keep hedge-recovery behavior and current sizing envelope.
SCALP_PING_5S_NO_HEDGE_ENTRY=0
SCALP_PING_5S_MIN_UNITS=300
SCALP_PING_5S_BASE_ENTRY_UNITS=1500
SCALP_PING_5S_MAX_UNITS=4500

# User request (2026-02-12): fixed take-profit and no stop-loss.
SCALP_PING_5S_TP_BASE_PIPS=0.50
SCALP_PING_5S_TP_NET_MIN_PIPS=0.50
SCALP_PING_5S_TP_MAX_PIPS=0.50
SCALP_PING_5S_TP_MOMENTUM_BONUS_MAX=0.00
SCALP_PING_5S_USE_SL=0
ORDER_ENABLE_STOP_LOSS_SCALP_FAST=0
FORECAST_EXEC_HINT_ENABLED=0
ORDER_MIN_RR_SCALP_FAST=0

# Disable loss-driven force exits that were creating premature market closes.
SCALP_PING_5S_FORCE_EXIT_MAX_FLOATING_LOSS_PIPS=0
SCALP_PING_5S_FORCE_EXIT_RECOVERY_WINDOW_SEC=0
SCALP_PING_5S_FORCE_EXIT_RECOVERABLE_LOSS_PIPS=0
SCALP_PING_5S_FORCE_EXIT_GIVEBACK_ENABLED=0
SCALP_PING_5S_FORCE_EXIT_GIVEBACK_ARM_PIPS=0
SCALP_PING_5S_FORCE_EXIT_GIVEBACK_BACKOFF_PIPS=0
SCALP_PING_5S_FORCE_EXIT_GIVEBACK_MIN_HOLD_SEC=0
SCALP_PING_5S_FORCE_EXIT_GIVEBACK_PROTECT_PIPS=0

# Relax microstructure density gate enough to avoid starvation.
ORDER_ENTRY_QUALITY_MICROSTRUCTURE_ENABLED=0
ORDER_ENTRY_QUALITY_MICROSTRUCTURE_MIN_TICK_DENSITY_SCALP_FAST=0.90
SCALP_PING_5S_SNAPSHOT_TOPUP_TARGET_DENSITY=0.90
SCALP_PING_5S_SNAPSHOT_KEEPALIVE_MIN_DENSITY=0.90
